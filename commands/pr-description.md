---
description: "PR 분석 후 상세설명 자동 생성"
allowed-tools: ["Read", "Edit", "Write", "Bash", "Grep"]
---

PR의 변경사항을 분석하여 템플릿 기반으로 상세설명을 자동 생성합니다.

## 사용법:

- `/pr-description PR번호` - PR 분석 후 템플릿 기반 상세설명 생성
- `/pr-description PR번호 --update` - PR description 자동 업데이트
- `/pr-description branch-name` - 브랜치 변경사항 기반 설명 생성
- `/pr-description` - 현재 브랜치 변경사항으로 설명 생성

## 자동 분석 프로세스:

### 1. 입력 인자 분석
- 숫자인 경우: PR 번호로 간주하여 `gh pr view`와 `gh pr diff` 사용
- 브랜치명인 경우: `git diff main..브랜치명` 사용  
- 인자가 없는 경우: `git diff main..HEAD` 사용

### 2. 변경사항 분석
```bash
# PR 정보 수집
gh pr view {PR번호}
gh pr diff {PR번호}

# 변경된 파일들 분석
# - 수정된 파일 목록과 변경 라인 수
# - 추가/수정/삭제된 기능 식별
# - 데이터베이스 스키마 변경 여부
# - 테스트 파일 포함 여부
# - 설정 파일 변경 여부
```

### 3. 템플릿 기반 설명 생성

`.github/PULL_REQUEST_TEMPLATE.md`를 기반으로 자동 생성:

```markdown
## 작업 내용

### 작업 배경
- [변경사항 분석을 통한 배경 추론]
- [관련 파일들의 컨텍스트 분석]

### 관련 스레드 또는 히스토리
링크 : [수동 입력 필요]

### 변경 사항

**추가:**
- [새로 추가된 파일/기능들]

**수정:**
- [수정된 기능들과 변경 이유]

**리팩토링:**
- [코드 구조 개선 사항들]

### 리뷰 받고 싶은 내용
- [주요 변경 포인트 기반 검토 사항]
- [복잡한 로직이나 중요한 변경사항]

### 리뷰 기한:
[제안된 적정 기한]
```

### 4. 코드 분석 세부사항

**파일 유형별 분석:**
- `.ts`, `.js`: 로직 변경, 새 기능, API 엔드포인트 변경
- `schema.prisma`: 데이터베이스 스키마 변경
- `.spec.ts`, `.test.ts`: 테스트 추가/수정
- `package.json`: 의존성 변경
- `.env.example`: 환경 변수 변경

**변경 규모 분석:**
- 소규모 변경 (< 50줄): 버그 수정, 간단한 기능 추가
- 중규모 변경 (50-200줄): 기능 개선, 리팩토링
- 대규모 변경 (> 200줄): 새 기능, 아키텍처 변경

### 5. 자동 업데이트 (선택)

`--update` 플래그 사용 시 GitHub PR description 자동 업데이트:
```bash
gh pr edit {PR번호} --body "생성된 상세설명"
```

### 6. 품질 검증

생성된 설명의 품질 확인:
- CLAUDE.md 지침 준수 (한국어 사용)
- 프로젝트 컨텍스트 정확성
- 변경사항의 완전성
- 리뷰 포인트의 적절성

---

$ARGUMENTS